@inject Microsoft.AspNetCore.Identity.SignInManager<DataAccessLayer.ApplicationUser> SignInManager
@model IEnumerable<Entities.Portfolio.Portfolio>
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_LoginPortfolio.cshtml";
}


<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>

    </ol>
    <div class="carousel-inner">
        <div class="carousel-item active">

            <img class="d-block w-100" src="~/images/portfolio/CrossFit (2).jpg" />
        </div>
        <div class="carousel-item">

            <img class="d-block w-100" src="~/images/portfolio/CrossFit (2).jpg" />
        </div>
        <div class="carousel-item">

            <img class="d-block w-100" src="~/images/portfolio/CrossFit (2).jpg" />

        </div>

    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
<br />
<div class="container marketing">

    <!-- Three columns of text below the carousel -->
    <div class="row">
        <div class="col-lg-4">
            <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: 140x140"><title>Placeholder</title><rect width="100%" height="100%" fill="#777" /><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
            <h2>Help</h2>
            <p>Donec sed odio dui. Etiam porta sem malesuada magna mollis euismod. Nullam id dolor id nibh ultricies vehicula ut id elit. Morbi leo risus, porta ac consectetur ac, vestibulum at eros. Praesent commodo cursus magna.</p>

        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
            <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: 140x140"><title>Placeholder</title><rect width="100%" height="100%" fill="#777" /><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
            <h2>advice</h2>
            <p>Duis mollis, est non commodo luctus, nisi erat porttitor ligula, eget lacinia odio sem nec elit. Cras mattis consectetur purus sit amet fermentum. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh.</p>

        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
            <svg class="bd-placeholder-img rounded-circle" width="140" height="140" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice" focusable="false" role="img" aria-label="Placeholder: 140x140"><title>Placeholder</title><rect width="100%" height="100%" fill="#777" /><text x="50%" y="50%" fill="#777" dy=".3em">140x140</text></svg>
            <h2>Follow</h2>
            <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>

        </div><!-- /.col-lg-4 -->
    </div><!-- /.row -->


</div><!-- /.container -->

<hr class="featurette-divider">
<!--Cards Images-->
<div class="container">
    <div class="row">
        @foreach (var item in Model)
        {

            <div class="col-sm-4">
                <div class="card">
                    <img src="~/images/portfolio/@item.ImageUrl" class="card-img-top" alt="...">
                    <div class="card-body">
                        <h5 class="card-title">@item.Title</h5>
                        <p class="card-text">@item.Description</p>
                        <a href="#" class="btn btn-primary">Go somewhere</a>
                    </div>
                    <div class="card-footer">
                        <small class="text-muted">Last updated 3 mins ago</small>
                        @if (SignInManager.IsSignedIn(User)&& User.IsInRole("Admin"))
                        {
                            <button class="btn btn-success btn-sm float-right" data-toggle="modal" data-target="#modal-default " id="clicked" onclick="clicked('@item.Id')">
                                <i class="fas fa-edit"></i>
                            </button>

                        }
                    </div>
                </div>
            </div>
            <br />
        }
    </div>
</div>


<hr class="featurette-divider">


<!--Pricing-->
<section class="pricing-table" id="pricing">
    <div class="container">
        <div class="block-heading">
            <h2>Pricing Table</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nunc quam urna, dignissim nec auctor in, mattis vitae leo.</p>
        </div>
        <div class="row justify-content-md-center">
            <div class="col-md-5 col-lg-4">
                <div class="item">
                    <div class="heading">
                        <h3>BASIC</h3>
                    </div>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    <div class="features">
                        <h4><span class="feature">Full Support</span> : <span class="value">No</span></h4>
                        <h4><span class="feature">Duration</span> : <span class="value">30 Days</span></h4>
                        <h4><span class="feature">Storage</span> : <span class="value">10GB</span></h4>
                    </div>
                    <div class="price">
                        <h4>$25</h4>
                    </div>
                    <button class="btn btn-block btn-outline-primary" type="submit">BUY NOW</button>
                </div>
            </div>
            <div class="col-md-5 col-lg-4">
                <div class="item">
                    <div class="ribbon">Best Value</div>
                    <div class="heading">
                        <h3>PRO</h3>
                    </div>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    <div class="features">
                        <h4><span class="feature">Full Support</span> : <span class="value">Yes</span></h4>
                        <h4><span class="feature">Duration</span> : <span class="value">60 Days</span></h4>
                        <h4><span class="feature">Storage</span> : <span class="value">50GB</span></h4>
                    </div>
                    <div class="price">
                        <h4>$50</h4>
                    </div>
                    <button class="btn btn-block btn-primary" type="submit">BUY NOW</button>
                </div>
            </div>
            <div class="col-md-5 col-lg-4">
                <div class="item">
                    <div class="heading">
                        <h3>PREMIUM</h3>
                    </div>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    <div class="features">
                        <h4><span class="feature">Full Support</span> : <span class="value">Yes</span></h4>
                        <h4><span class="feature">Duration</span> : <span class="value">120 Days</span></h4>
                        <h4><span class="feature">Storage</span> : <span class="value">150GB</span></h4>
                    </div>
                    <div class="price">
                        <h4>$150</h4>
                    </div>
                    <button class="btn btn-block btn-outline-primary" type="submit">BUY NOW</button>
                </div>
            </div>
        </div>
    </div>
</section>
<!--End Pricing-->
<!--Modal-->
<div class="modal fade" id="modal-default">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-success">
                <h4 class="modal-title align-content-center">Edite</h4>

            </div>
            <form asp-action="Edit">
                <div class="modal-body">

                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div style="width:auto" id="cardBodyModal">

                    </div>

                </div>
                <div class="modal-footer justify-content-between">
                    <button type="button" class="btn btn-danger" data-dismiss="modal"><i class="fas fa-times"></i></button>
                    <button type="submit" class="btn btn-success"><i class="fas fa-save"></i></button>
                </div>
            </form>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal-dialog -->






    


@section Scripts{

    <script>


        function clicked(id) {
            $(function () {

                var dataa = $("#cardBodyModal")
                dataa.html("")
                var url = "/Portfolio/GetPortfolio/" + id

                $.ajax({
                    url: url,
                    type: "Get",
                    contentType: "application/json;charset=utf-8",
                    dataType: "json",
                    success: function (result) {
                      
                        var html = ' <div class="form-group"> <label class="control-label">Titre</label> </div>' +
                            ' <div class="form-group"> <input type="text" name="Title" id="title" class="form-control" placeholder="Choisir un titre"/></div>' +
                            ' <div class="form-group"> <label class="control-label">Description</label> </div>' +
                            ' <div class="form-group"> <textarea name="Description" class="form-control" placeholder="ecrire un titre" id="desc"></textarea></div>' +
                            ' <div class="form-group"> <label class="control-label">Image Url</label> </div>' +
                            '<div class="custom-file">'
                            +
                            '<input type="hidden" name="Id" value="' + id + '" />  <input type="file" class="custom-file-input" name="ImageUrl" id="customFile">    <label class="custom-file-label" for="customFile">Choose file</label> </div>'

                        dataa.append(html)
                        $("#desc").val(result.description)
                        $("#title").val(result.title)

                    }

                })


            })
        }



    </script>

}